<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第 6 号观察室 | Room 6 Observation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'psycho-purple': '#6D28D9',
                        'neon-cyan': '#00F0FF',
                        'neon-pink': '#FF003C',
                        'neon-green': '#39FF14',
                        'terminal-black': '#050505',
                        'deep-gray': '#121212',
                    },
                    fontFamily: {
                        'mono': ['"Courier Prime"', 'Courier', 'monospace'],
                        'sans': ['"Oswald"', 'Impact', 'sans-serif'],
                    },
                    animation: {
                        'pulse-fast': 'pulse 0.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'shatter': 'shatter 0.2s infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        shatter: {
                            '0%': { transform: 'translate(0, 0)' },
                            '25%': { transform: 'translate(-5px, 5px)' },
                            '50%': { transform: 'translate(5px, -5px)' },
                            '75%': { transform: 'translate(-5px, -5px)' },
                            '100%': { transform: 'translate(5px, 5px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Oswald:wght@400;700&display=swap');

        /* --- Global Aesthetics --- */
        body {
            background-color: #050505;
            color: #e0e0e0;
            font-family: 'Courier Prime', monospace;
            overflow-x: hidden;
            cursor: crosshair;
            background-image: 
                radial-gradient(circle at 50% 50%, #1a1a1a 0%, #000 80%),
                url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        }

        /* --- Scroll Reveal Animation --- */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
            filter: blur(5px);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
        }

        /* --- Destruction Effects (Updated for HIGH CHAOS) --- */
        .meltdown-phase-1 { 
            animation: shake 0.1s infinite; 
            color: #FF003C !important; 
            text-shadow: 2px 0 #00F0FF;
        }
        
        .meltdown-phase-2 { 
            transform: rotate(15deg) scale(1.2) skewX(20deg); 
            filter: invert(1) contrast(300%);
            mix-blend-mode: hard-light;
            background: #000;
            z-index: 100;
        }
        
        .meltdown-phase-3 { 
            background: #00F0FF; 
            color: #FF003C !important;
            transform: skewY(60deg) translateX(50px) scale(0.8); 
            box-shadow: 20px 20px 0px #39FF14;
            clip-path: polygon(0 0, 100% 0, 100% 20%, 0 80%);
            z-index: 999;
        }
        
        /* The Chaos Block - More intense */
        .chaos-block {
            position: fixed;
            z-index: 5000;
            mix-blend-mode: difference; /* 差值模式造成极高对比度 */
            animation: flash-violent 0.05s infinite;
        }

        @keyframes shake {
            0% { transform: translate(2px, 2px) rotate(0deg); }
            25% { transform: translate(-5px, 0px) rotate(2deg); }
            50% { transform: translate(-2px, 4px) rotate(-2deg); }
            75% { transform: translate(5px, 2px) rotate(-2deg); }
            100% { transform: translate(2px, -4px) rotate(-1deg); }
        }
        
        @keyframes flash-violent {
            0% { opacity: 1; filter: hue-rotate(0deg); }
            25% { opacity: 0; }
            50% { opacity: 1; filter: hue-rotate(90deg); }
            75% { opacity: 0.5; filter: hue-rotate(180deg); }
            100% { opacity: 1; filter: hue-rotate(270deg); }
        }

        /* --- CRT & Overlay FX --- */
        .scanlines {
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
            background-size: 100% 3px;
            position: fixed; inset: 0; pointer-events: none; z-index: 50;
        }
        .vignette {
            position: fixed; inset: 0;
            background: radial-gradient(circle, transparent 50%, black 100%);
            z-index: 40; pointer-events: none;
        }
        
        /* --- Neon Text Glows --- */
        .glow-text-purple { text-shadow: 0 0 10px rgba(109, 40, 217, 0.7); }
        .glow-text-cyan { text-shadow: 0 0 10px rgba(0, 240, 255, 0.7); }
        .glow-text-red { text-shadow: 0 0 10px rgba(255, 0, 60, 0.7); }

        /* --- X-Ray Card Tweaks --- */
        .xray-card {
            background: rgba(18, 18, 18, 0.8);
            backdrop-filter: blur(5px);
            border: 1px solid #333;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .xray-card:hover {
            border-color: #00F0FF;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 30px -10px rgba(0, 240, 255, 0.3);
            z-index: 10;
        }
        
        /* Cursor Trail Element */
        .cursor-trail {
            position: fixed;
            width: 8px; height: 8px;
            background: #39FF14;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            border-radius: 50%;
            transition: transform 0.05s;
        }
    </style>
</head>
<body class="antialiased selection:bg-neon-pink selection:text-white">

    <!-- FX Overlays -->
    <div class="scanlines"></div>
    <div class="vignette"></div>
    
    <!-- Cursor Trail -->
    <div id="cursor" class="cursor-trail opacity-0"></div>

    <!-- Intro / Lock Screen -->
    <div id="intro-screen" class="fixed inset-0 z-[100] bg-terminal-black flex flex-col items-center justify-center transition-opacity duration-1000">
        <div class="absolute top-10 right-10 flex items-center gap-2">
            <div class="w-3 h-3 bg-neon-pink rounded-full animate-pulse-fast box-shadow-[0_0_10px_#FF003C]"></div>
            <span class="text-neon-pink font-mono text-sm tracking-widest glow-text-red">REC ●</span>
        </div>

        <div class="text-center max-w-3xl px-6">
            <h1 class="text-white text-7xl md:text-9xl font-sans tracking-tighter mb-4 glow-text-purple relative inline-block group">
                <span class="relative z-10">ROOM 6</span>
                <span class="absolute top-0 left-1 text-neon-cyan opacity-50 mix-blend-screen animate-pulse hidden group-hover:block">ROOM 6</span>
                <span class="absolute top-0 -left-1 text-neon-pink opacity-50 mix-blend-multiply animate-pulse hidden group-hover:block">ROOM 6</span>
            </h1>
            
            <div class="font-report text-gray-400 text-lg md:text-2xl min-h-[80px] mb-12 border-l-4 border-neon-cyan pl-6 text-left flex items-center">
                <span id="typewriter-text" class="leading-relaxed"></span><span class="animate-pulse text-neon-cyan">_</span>
            </div>

            <button onclick="enterSystem()" class="relative px-10 py-4 bg-transparent border-2 border-psycho-purple text-white font-mono text-lg overflow-hidden group transition-all duration-300 hover:border-neon-cyan hover:shadow-[0_0_20px_rgba(0,240,255,0.4)]">
                <span class="relative z-10 flex items-center gap-3">
                    <i class="fas fa-eye"></i> 
                    <span>INITIALIZE OBSERVATION</span>
                </span>
                <div class="absolute inset-0 bg-psycho-purple transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 ease-out opacity-20"></div>
            </button>
        </div>
    </div>

    <!-- Main Interface -->
    <div id="main-interface" class="opacity-0 transition-opacity duration-1000 min-h-screen relative z-10 pb-20">
        
        <!-- Header -->
        <header class="border-b border-gray-800 bg-black/90 backdrop-blur-md sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <span class="text-neon-cyan font-sans text-3xl tracking-widest border-2 border-neon-cyan px-2 shadow-[0_0_10px_rgba(0,240,255,0.3)]">R6</span>
                    <div class="flex flex-col font-mono text-xs">
                        <span class="text-gray-400">SYSTEM: <span class="text-neon-green">ONLINE</span></span>
                        <span class="text-gray-500">LATENCY: 14ms</span>
                    </div>
                </div>
                <div class="text-right hidden md:block">
                    <div class="text-neon-pink text-xs font-mono animate-pulse glow-text-red">WARNING: REALITY DISTORTION FIELD ACTIVE</div>
                </div>
            </div>
        </header>

        <!-- Subjects Section -->
        <section class="max-w-7xl mx-auto px-4 py-20 reveal">
            <div class="flex items-end justify-between mb-16 border-b border-gray-800 pb-6">
                <div>
                    <span class="text-neon-cyan font-mono text-sm tracking-wider"># SECTION A // SUBJECTS</span>
                    <h2 class="text-5xl text-white font-sans tracking-wide mt-2 glow-text-purple">临床观察对象</h2>
                </div>
                <div class="text-right opacity-50">
                    <i class="fas fa-users-slash text-4xl text-gray-700"></i>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Cards Injected via JS -->
            </div>
        </section>

        <!-- Clues Section -->
        <section class="bg-deep-gray/30 border-y border-gray-800 py-24 reveal relative overflow-hidden">
            <!-- Background Deco -->
            <div class="absolute top-0 right-0 text-[10rem] text-white opacity-05 font-sans leading-none select-none pointer-events-none">EVIDENCE</div>
            
            <div class="max-w-7xl mx-auto px-4 relative z-10">
                <div class="mb-16 text-center">
                    <span class="text-neon-pink font-mono text-sm"># EVIDENCE COLLECTION</span>
                    <h2 class="text-4xl text-white font-sans tracking-wide mt-2">关键物证</h2>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
                    <!-- Clue 1 -->
                    <div class="group cursor-pointer transform hover:scale-105 transition-transform duration-300">
                        <div class="w-32 h-32 mx-auto border-2 border-gray-700 rounded-full flex items-center justify-center mb-6 group-hover:border-neon-pink group-hover:shadow-[0_0_30px_rgba(255,0,60,0.3)] transition-all duration-300 bg-black">
                            <i class="fas fa-pills text-4xl text-gray-500 group-hover:text-white transition-colors"></i>
                        </div>
                        <h3 class="text-2xl font-bold font-mono text-gray-200 group-hover:text-neon-pink transition-colors">药丸与饭</h3>
                        <p class="text-sm text-gray-500 mt-3 max-w-xs mx-auto">"囚徒困境：生存还是毁灭？"</p>
                    </div>
                    <!-- Clue 2 -->
                    <div class="group cursor-pointer transform hover:scale-105 transition-transform duration-300">
                        <div class="w-32 h-32 mx-auto border-2 border-gray-700 rounded-full flex items-center justify-center mb-6 group-hover:border-neon-cyan group-hover:shadow-[0_0_30px_rgba(0,240,255,0.3)] transition-all duration-300 bg-black">
                            <i class="fas fa-guitar text-4xl text-gray-500 group-hover:text-white transition-colors"></i>
                        </div>
                        <h3 class="text-2xl font-bold font-mono text-gray-200 group-hover:text-neon-cyan transition-colors">海边木屋</h3>
                        <p class="text-sm text-gray-500 mt-3 max-w-xs mx-auto">"记忆碎片的真实性验证。"</p>
                    </div>
                    <!-- Clue 3 -->
                    <div class="group cursor-pointer transform hover:scale-105 transition-transform duration-300">
                        <div class="w-32 h-32 mx-auto border-2 border-gray-700 rounded-full flex items-center justify-center mb-6 group-hover:border-neon-green group-hover:shadow-[0_0_30px_rgba(57,255,20,0.3)] transition-all duration-300 bg-black">
                            <i class="fas fa-birthday-cake text-4xl text-gray-500 group-hover:text-white transition-colors"></i>
                        </div>
                        <h3 class="text-2xl font-bold font-mono text-gray-200 group-hover:text-neon-green transition-colors">6岁生日</h3>
                        <p class="text-sm text-gray-500 mt-3 max-w-xs mx-auto">"一切疯狂的起源。"</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Vote Section -->
        <section class="max-w-5xl mx-auto px-4 py-24 text-center reveal">
            <h2 class="text-5xl md:text-6xl text-psycho-purple font-sans mb-4 glow-text-purple glitch-hover" data-text="WHO IS THE PSYCHO?">WHO IS THE PSYCHO?</h2>
            <p class="text-gray-400 font-mono mb-12 text-lg">点击下方名字，指认你心中的“疯子”。</p>

            <div id="vote-container" class="flex flex-wrap justify-center gap-6">
                <!-- JS Injected -->
            </div>
            
            <div id="vote-result" class="hidden mt-12 p-6 border-l-4 border-neon-cyan bg-gray-900/50 text-neon-cyan font-mono text-left max-w-2xl mx-auto shadow-lg backdrop-blur-sm">
                <span class="text-neon-pink">>> ALERT:</span> VOTE LOGGED.<br>
                <span class="text-white">>> SYSTEM ANALYSIS:</span> WE ARE ALL MAD HERE.<br>
                <span class="text-gray-500">>> UPLOADING TO MAIN SERVER... [||||||||||] 100%</span>
            </div>
        </section>

        <!-- DESTRUCTION ZONE (The Creative Limit) -->
        <section class="max-w-7xl mx-auto px-4 py-32 border-t border-neon-pink/30 mt-12 bg-black relative overflow-hidden text-center reveal isolate">
            
            <!-- Red Pulse Background -->
            <div class="absolute inset-0 bg-neon-pink opacity-0 transition-opacity duration-100 mix-blend-overlay" id="danger-bg"></div>

            <div class="relative z-10">
                <div class="inline-block border border-neon-pink text-neon-pink px-3 py-1 font-mono text-xs mb-6 animate-pulse">
                    ⚠️ DANGER ZONE: SYSTEM CORE
                </div>
                
                <h2 class="text-6xl md:text-8xl font-sans text-white mb-4 glow-text-red">系统自毁程序</h2>
                <h3 class="text-2xl md:text-3xl font-mono text-neon-pink mb-10 tracking-widest">INITIATE SELF-DESTRUCT</h3>
                
                <p class="font-mono text-gray-400 mb-12 max-w-xl mx-auto leading-relaxed">
                    警告：此按钮将触发不可逆的级联故障。<br>
                    按一次，系统将自动开始瓦解。<br>
                    Warning: Single press will initiate cascade failure.
                </p>

                <!-- The Button -->
                <button id="destroy-btn" class="group relative inline-flex items-center justify-center px-16 py-8 bg-transparent border-4 border-neon-pink text-white font-mono text-2xl font-bold uppercase tracking-widest overflow-hidden transition-all hover:bg-neon-pink hover:text-black hover:shadow-[0_0_50px_#FF003C]">
                    <span class="relative z-10 flex flex-col items-center">
                        <span><i class="fas fa-radiation-alt mb-2"></i> DESTROY</span>
                        <span class="text-xs font-normal opacity-70 mt-1">CLICK ONCE TO START</span>
                    </span>
                </button>
                
                <!-- Status Console -->
                <div class="mt-12 font-mono text-sm grid gap-2 text-gray-500 max-w-md mx-auto text-left bg-gray-900 p-4 rounded border border-gray-800" id="console-output">
                    <div>> SYSTEM STATUS: <span class="text-neon-green">STABLE</span></div>
                    <div>> INTEGRITY: <span id="integrity-val" class="text-white">100%</span></div>
                    <div id="chaos-log" class="text-neon-pink h-6"></div>
                </div>
            </div>
            
            <!-- Background Decoration -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] opacity-05 pointer-events-none select-none">
                <svg viewBox="0 0 100 100" fill="none" stroke="red" stroke-width="0.1">
                      <circle cx="50" cy="50" r="40" />
                      <circle cx="50" cy="50" r="30" />
                      <circle cx="50" cy="50" r="20" />
                      <line x1="0" y1="50" x2="100" y2="50" />
                      <line x1="50" y1="0" x2="50" y2="100" />
                </svg>
            </div>
        </section>

        <footer class="text-center py-12 border-t border-gray-900 text-gray-600 font-mono text-xs reveal">
            <p>&copy; 2026 ROOM 6 OBSERVATION SYSTEM. // DO NOT STARE INTO THE VOID.</p>
        </footer>

    </div>

    <script>
        // --- DATA ---
        const subjects = [
            { id: "S-01", role: "Driver", cnName: "马延龙", enName: "Ben", trait: "暴躁", quote: "就那条路怎么就那么堵啊。。", icon: "fa-car-crash", color: "text-neon-pink" },
            { id: "S-02", role: "Lawyer", cnName: "王一石", enName: "Tom", trait: "诡辩", quote: "法律不代表正义，我才代表。", icon: "fa-gavel", color: "text-neon-cyan" },
            { id: "S-03", role: "Teacher", cnName: "姚人瑜", enName: "Shawn", trait: "迂腐", quote: "加里波第...那天不在场...", icon: "fa-book", color: "text-yellow-400" },
            { id: "S-04", role: "Doctor", cnName: "俞欣妍", enName: "Sam", trait: "冷漠", quote: "我是这里唯一清醒的人。", icon: "fa-user-md", color: "text-white" },
            { id: "S-05", role: "Journalist", cnName: "俞涵蕾", enName: "Sunny", trait: "窥探", quote: "大众有权知道真相...我的真相。", icon: "fa-camera", color: "text-neon-green" },
            { id: "S-06", role: "PR", cnName: "曾以馨", enName: "Lily", trait: "虚荣", quote: "只要包装得好，疯子也能成圣人。", icon: "fa-cocktail", color: "text-purple-400" },
            { id: "S-07", role: "Quiet", cnName: "朱付瑶", enName: "Icy", trait: "孤独", quote: "... (SIGNAL LOST)", icon: "fa-snowflake", color: "text-blue-300", isGlitch: true }
        ];

        // --- INIT ---
        window.addEventListener('load', () => {
            initTypewriter();
            renderSubjects();
            renderVoting();
            initDestruction();
            initScrollReveal();
            initCursor();
        });

        // --- SCROLL REVEAL ANIMATION ---
        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        // --- CUSTOM CURSOR ---
        function initCursor() {
            const cursor = document.getElementById('cursor');
            document.addEventListener('mousemove', (e) => {
                cursor.style.opacity = '1';
                cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
            });
        }

        // --- TYPEWRITER ---
        function initTypewriter() {
            const text = "“在隐藏的人性中，谁都是疯子。”";
            const el = document.getElementById("typewriter-text");
            let i = 0;
            const interval = setInterval(() => {
                el.textContent += text.charAt(i);
                i++;
                if (i >= text.length) clearInterval(interval);
            }, 100);
        }

        // --- ENTER SYSTEM ---
        window.enterSystem = function() {
            const intro = document.getElementById('intro-screen');
            const main = document.getElementById('main-interface');
            
            document.body.style.background = 'white'; // Flash white
            setTimeout(() => {
                document.body.style.background = ''; // Revert to CSS
                intro.style.opacity = '0';
                intro.style.pointerEvents = 'none';
                main.style.opacity = '1';
                setTimeout(() => {
                    document.querySelectorAll('.reveal').forEach(el => {
                        if(el.getBoundingClientRect().top < window.innerHeight) el.classList.add('active');
                    });
                }, 100);
            }, 50);
        }

        // --- RENDER SUBJECTS ---
        function renderSubjects() {
            const container = document.querySelector('.grid');
            subjects.forEach(sub => {
                const card = document.createElement('div');
                card.className = 'xray-card h-96 flex flex-col justify-between p-6 group cursor-help relative overflow-hidden';
                
                card.innerHTML = `
                    <div class="flex justify-between items-start z-10">
                        <span class="font-mono text-xs text-gray-500 border border-gray-700 px-1">${sub.id}</span>
                        <i class="fas ${sub.icon} ${sub.color} text-2xl opacity-50 group-hover:opacity-100 transition-opacity"></i>
                    </div>
                    
                    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <span class="text-8xl font-sans font-bold text-gray-800 opacity-20 group-hover:opacity-5 transition-opacity duration-500 transform group-hover:scale-150">?</span>
                    </div>

                    <div class="z-10 text-center transform translate-y-8 group-hover:translate-y-0 transition-transform duration-300">
                         <h3 class="text-4xl font-sans text-white mb-1 group-hover:text-neon-cyan transition-colors">${sub.enName}</h3>
                         <p class="text-sm font-mono text-gray-400 mb-4 group-hover:text-white">${sub.cnName}</p>
                         
                         <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-75">
                             <div class="w-full h-px bg-gray-700 my-4"></div>
                             <p class="text-xs font-mono text-neon-green italic">"${sub.quote}"</p>
                             <div class="mt-4 inline-block px-2 py-1 bg-gray-900 border border-neon-pink text-neon-pink text-xs font-mono uppercase rounded">
                                 ${sub.trait}
                             </div>
                         </div>
                    </div>
                    
                    <div class="absolute inset-0 bg-neon-cyan/5 transform -translate-y-full group-hover:translate-y-full transition-transform duration-1000 ease-linear pointer-events-none"></div>
                `;
                container.appendChild(card);
            });
        }

        // --- RENDER VOTING ---
        function renderVoting() {
            const container = document.getElementById('vote-container');
            subjects.forEach(sub => {
                const btn = document.createElement('button');
                btn.className = 'border border-gray-700 text-gray-400 px-6 py-3 font-mono text-sm hover:border-neon-cyan hover:text-neon-cyan hover:bg-gray-900 transition-all uppercase tracking-widest';
                btn.textContent = `[ ${sub.enName} ]`;
                btn.onclick = () => {
                    document.getElementById('vote-result').classList.remove('hidden');
                    const allBtns = container.querySelectorAll('button');
                    allBtns.forEach(b => b.classList.add('opacity-30', 'pointer-events-none'));
                    btn.classList.remove('opacity-30');
                    btn.classList.add('bg-neon-cyan', 'text-black', 'border-neon-cyan', 'font-bold');
                };
                container.appendChild(btn);
            });
        }

        // --- EXTREME DESTRUCTION LOGIC (ACCELERATED & SHATTERED) ---
        function initDestruction() {
            const btn = document.getElementById('destroy-btn');
            const integrityDisplay = document.getElementById('integrity-val');
            const logDisplay = document.getElementById('chaos-log');
            
            if (!btn) return;

            btn.addEventListener('click', () => {
                btn.disabled = true;
                btn.classList.add('opacity-50', 'cursor-not-allowed');
                btn.innerHTML = '<span class="animate-pulse text-red-500 font-bold">CRITICAL FAILURE</span>';
                
                let chaosLevel = 0;
                let integrity = 100;

                // Loop speed increased (30ms vs 50ms)
                const interval = setInterval(() => {
                    // Chaos increases faster (+2 per tick)
                    chaosLevel += 2;
                    integrity = Math.max(0, 100 - (chaosLevel * 0.8)); // Drops faster
                    integrityDisplay.innerText = integrity.toFixed(1) + "%";

                    // Global Shatter Effect (Random Polygon Clip)
                    if (chaosLevel > 20) {
                        const r1 = Math.random() * 100;
                        const r2 = Math.random() * 100;
                        const r3 = Math.random() * 100;
                        const r4 = Math.random() * 100;
                        document.body.style.clipPath = `polygon(${r1}% ${r2}%, ${r2}% ${r1}%, ${r3}% ${r4}%, ${r4}% ${r3}%)`;
                    }

                    // 1. PHASE ONE: THE TREMOR (0 - 40)
                    if (chaosLevel < 40) {
                         const target = getRandomTarget();
                         if (target) target.classList.add('meltdown-phase-1');
                         // More violent shake
                         document.body.style.transform = `translate(${Math.random()*10-5}px, ${Math.random()*10-5}px)`;
                    }

                    // 2. PHASE TWO: THE FRACTURE (40 - 100)
                    else if (chaosLevel < 100) {
                        // Attack 3 targets at once for speed
                        for(let k=0; k<3; k++) {
                            const target = getRandomTarget();
                            if (target) {
                                target.classList.remove('meltdown-phase-1');
                                target.classList.add('meltdown-phase-2');
                                // Aggressive text break
                                if (target.innerText && target.innerText.length > 0) {
                                    target.innerText = generateZalgo(Math.floor(Math.random() * 20));
                                    target.style.fontSize = (Math.random() * 3 + 1) + 'em'; // Text explosion
                                }
                            }
                        }
                        
                        // Violent strobing background
                        if (Math.random() > 0.5) {
                            document.body.style.backgroundColor = ['#FF0000', '#0000FF', '#000000', '#FFFFFF'][Math.floor(Math.random()*4)];
                            document.body.style.filter = 'invert(1)';
                        }
                    }

                    // 3. PHASE THREE: TOTAL ANNIHILATION (100 - 180)
                    else if (chaosLevel < 180) {
                        // High Saturation & Hue Spin
                        document.body.style.filter = `saturate(5000%) hue-rotate(${chaosLevel*20}deg) contrast(200%)`;
                        
                        // Inject MULTIPLE Chaos Blocks
                        for(let b=0; b<2; b++) {
                            const block = document.createElement('div');
                            block.className = 'chaos-block';
                            block.style.top = Math.random() * 100 + 'vh';
                            block.style.left = Math.random() * 100 + 'vw';
                            block.style.width = Math.random() * 800 + 'px'; // Huge blocks
                            block.style.height = Math.random() * 800 + 'px';
                            // High contrast colors
                            block.style.background = ['#FF00FF', '#00FFFF', '#FFFF00', '#FF0000', '#0000FF'][Math.floor(Math.random()*5)];
                            block.style.transform = `rotate(${Math.random()*360}deg) skew(${Math.random()*50}deg)`;
                            document.body.appendChild(block);
                        }
                        
                        // Shake view heavily
                        document.body.style.transform = `scale(${0.8 + Math.random()*0.4}) rotate(${Math.random()*10 - 5}deg)`;
                    }

                    // 4. FINAL DEATH (180+) - Occurs much sooner
                    else {
                        clearInterval(interval);
                        document.body.innerHTML = '';
                        document.body.style.clipPath = 'none'; // Reset clip
                        document.body.style.backgroundColor = '#000088'; // Deep Blue
                        document.body.style.filter = 'none';
                        document.body.style.transform = 'none';
                        document.body.style.overflow = 'hidden';
                        document.body.style.cursor = 'none';
                        
                        const bsod = document.createElement('div');
                        bsod.className = "flex items-center justify-center h-screen w-screen text-white font-mono text-xl md:text-2xl flex-col p-10 select-none";
                        bsod.innerHTML = `
                            <div class="text-8xl mb-6">:(</div>
                            <div class="mb-8 max-w-2xl">Your observation unit ran into a problem and needs to restart. We're just collecting some error info, and then we'll restart for you.</div>
                            <div class="text-sm mb-4">100% complete</div>
                            <div class="mt-8 text-xs font-mono bg-white text-blue-800 px-2 py-1">STOP: 0x000000R6 (ROOM_6_FATAL_EXCEPTION)</div>
                        `;
                        document.body.appendChild(bsod);
                    }

                    // Logs
                    if (chaosLevel % 3 === 0) {
                        const logs = ["KERNEL PANIC", "REALITY_SEGMENTATION_FAULT", "BUFFER_OVERFLOW", "R6_CORE_DUMP", "NULL POINTER"];
                        logDisplay.innerText = logs[Math.floor(Math.random() * logs.length)];
                    }

                }, 30); // FASTER INTERVAL
            });
        }

        function getRandomTarget() {
             const targets = document.querySelectorAll('h1, h2, h3, p, span, div.xray-card, i');
             return targets[Math.floor(Math.random() * targets.length)];
        }

        function generateZalgo(length) {
            const chars = "░▒▓█▀▄▌▐▖▗▘▙▚▛▜▝▞▟!@#$%^&*()_+XXXXXXXX";
            let str = "";
            for(let i=0; i<length; i++) str += chars[Math.floor(Math.random() * chars.length)];
            return str;
        }
    </script>
</body>
</html>
